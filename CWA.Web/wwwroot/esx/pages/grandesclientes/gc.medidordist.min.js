console.log(cwa.page);$("#cwa-fabricante-select").change(function(){const n=$(this).val();$("#cwa-modelo-select").empty().append('<option value="">Seleccione un valor...<\/option>');n&&$(cwa.page.modelos).each(function(){n==this.fabricanteid&&$("#cwa-modelo-select").append('<option value="'+this.id+'">'+this.descripcion+"<\/option>")})});cwa.page.addCanal=function(){var n=$("#cwa-canal-numero").val(),t=$("#cwa-canal-descripcion").val().trim(),f=t.toLowerCase(),i,r,u;n&&t?(i=!1,r=!1,$("tr[data-cwa-rid]").each(function(){var u=$(this).find("td").eq(0).text(),t=$(this).find("td").eq(1).text();t=t.toLowerCase();i=n==u||i;r=f==t||r}),i==!0?cwa.dialog.show(cwa.page.strings.numero,"warning"):r==!0?cwa.dialog.show(cwa.page.strings.descripcion,"warning"):($("#cwa-canal-table tbody").append('<tr data-cwa-rid=""><td>'+n+"<\/td><td>"+t+'<\/td><td class="text-end"><a href="#quitar" data-cwa-cid=""><i class="bi-trash"><\/i><\/a><input type="hidden" id="" name="" value="'+n+'" /><input type="hidden" id="" name="" value="'+t+'" /><\/td > '),u=cwa.page.indexCanal(),$('[data-cwa-cid="'+u+'"]').click(cwa.page.removeCanal),$("#cwa-canal-descripcion").val(""),$("#cwa-canal-numero").val("").focus())):cwa.dialog.show(cwa.page.strings.canales,"warning")};cwa.page.removeCanal=function(){$("tr[data-cwa-rid='"+$(this).attr("data-cwa-cid")+"']").remove();cwa.page.indexCanal()};cwa.page.indexCanal=function(){var n=0;return $("tr[data-cwa-rid]").each(function(){$(this).attr("data-cwa-rid",n);$(this).find("a[data-cwa-cid]").attr("data-cwa-cid",n);$(this).find("input").eq(0).prop("id","EditModel_Canales_"+n+"__Numero");$(this).find("input").eq(0).prop("name","EditModel.Canales["+n+"].Numero");$(this).find("input").eq(1).prop("id","EditModel_Canales_"+n+"__Descripcion");$(this).find("input").eq(1).prop("name","EditModel.Canales["+n+"].Descripcion");n++}),n-1};cwa.page.canalKeyUp=function(n){n.which==13&&cwa.page.addCanal();n.preventDefault()};$("#cwa-canal-add").click(cwa.page.addCanal);$("[data-cwa-cid]").click(cwa.page.removeCanal);$("#cwa-canal-numero").keyup(cwa.page.canalKeyUp);$("#cwa-canal-descripcion").keyup(cwa.page.canalKeyUp);cwa.page.showUpdate==!0&&$("#cwa-update-button").click(function(){cwa.dialog.ask(cwa.page.strings.guardar,"#cwa-update-form",function(){cwa.page.jsonResult.success==!0&&document.querySelector("#cwa-back-link").click()})});cwa.page.showApprove==!0&&$("#cwa-approve-button").click(function(){cwa.page.showUpdate==!1?cwa.dialog.ask(cwa.page.strings.aprobar,"#cwa-approve-form"):cwa.dialog.ask(cwa.page.strings.aprobar,"#cwa-approve-form",function(){cwa.page.showUpdate==!0&&location.reload()})});cwa.page.complete=function(){if(cwa.page.jsonResult.success==!0)cwa.page.jsonResult.content=="update"&&(cwa.settext("#cwa-last-save",cwa.page.jsonResult.timeString),$(".cwa-small").html("&nbsp;")),cwa.page.jsonResult.content=="approve"&&(cwa.settext("#cwa-approve-date",cwa.page.jsonResult.timeString),cwa.settext("#cwa-approved",cwa.page.strings.aprobado),$("#cwa-approved-icon").hasClass("bi-clock-fill")&&($("#cwa-approved-icon").removeClass("bi-clock-fill").removeClass("text-warning"),$("#cwa-approved-icon").addClass("bi-check-circle-fill").addClass("text-success")),$("#cwa-approve-button").remove(),$("#cwa-update-button").remove());else if(cwa.page.jsonResult.content){const n='<i class="bi-exclamation-circle-fill"><\/i>';$(".cwa-small").html("&nbsp;");$(cwa.page.jsonResult.content).each(function(){const t="#"+this.key;$(t).html(n)})}};